"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DS = DS;
const duration_1 = require("../../types/duration");
const ds_1 = require("../record/ds");
function DS(scope, label, keytag, algorithm, digestType, digest, ttl, isEnsuredAbsent, meta) {
    return new ds_1.DnscontrolDsRecord(scope, `Ds:${label}:${keytag}:${algorithm}:${digestType}`, {
        label: label,
        ttl: ttl != null ? new duration_1.Duration(ttl) : undefined,
        isEnsuredAbsent: isEnsuredAbsent,
        meta: meta,
        algorithm: (() => {
            if (typeof algorithm === "number") {
                return (0, ds_1.getDsAlgorithmStringFromValue)(algorithm);
            }
            return algorithm;
        })(),
        digestType: (() => {
            if (typeof digestType === "number") {
                return (0, ds_1.getDsDigestTypeStringFromValue)(digestType);
            }
            return digestType;
        })(),
        digest: digest,
        keytag: keytag,
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVVBLGdCQW1DQztBQTVDRCxtREFBZ0Q7QUFDaEQscUNBTXNCO0FBRXRCLFNBQWdCLEVBQUUsQ0FDaEIsS0FBZ0IsRUFDaEIsS0FBYSxFQUNiLE1BQWMsRUFDZCxTQUErQixFQUMvQixVQUFpQyxFQUNqQyxNQUFjLEVBQ2QsR0FBcUIsRUFDckIsZUFBeUIsRUFDekIsSUFBNkI7SUFFN0IsT0FBTyxJQUFJLHVCQUFrQixDQUMzQixLQUFLLEVBQ0wsTUFBTSxLQUFLLElBQUksTUFBTSxJQUFJLFNBQVMsSUFBSSxVQUFVLEVBQUUsRUFDbEQ7UUFDRSxLQUFLLEVBQUUsS0FBSztRQUNaLEdBQUcsRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLG1CQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVM7UUFDaEQsZUFBZSxFQUFFLGVBQWU7UUFDaEMsSUFBSSxFQUFFLElBQUk7UUFDVixTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUU7WUFDZixJQUFJLE9BQU8sU0FBUyxLQUFLLFFBQVEsRUFBRSxDQUFDO2dCQUNsQyxPQUFPLElBQUEsa0NBQTZCLEVBQUMsU0FBUyxDQUFDLENBQUM7WUFDbEQsQ0FBQztZQUNELE9BQU8sU0FBUyxDQUFDO1FBQ25CLENBQUMsQ0FBQyxFQUFFO1FBQ0osVUFBVSxFQUFFLENBQUMsR0FBRyxFQUFFO1lBQ2hCLElBQUksT0FBTyxVQUFVLEtBQUssUUFBUSxFQUFFLENBQUM7Z0JBQ25DLE9BQU8sSUFBQSxtQ0FBOEIsRUFBQyxVQUFVLENBQUMsQ0FBQztZQUNwRCxDQUFDO1lBQ0QsT0FBTyxVQUFVLENBQUM7UUFDcEIsQ0FBQyxDQUFDLEVBQUU7UUFDSixNQUFNLEVBQUUsTUFBTTtRQUNkLE1BQU0sRUFBRSxNQUFNO0tBQ2YsQ0FDRixDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0cnVjdCB9IGZyb20gXCJjb25zdHJ1Y3RzXCI7XG5pbXBvcnQgeyBEdXJhdGlvbiB9IGZyb20gXCIuLi8uLi90eXBlcy9kdXJhdGlvblwiO1xuaW1wb3J0IHtcbiAgRG5zY29udHJvbERzUmVjb3JkLFxuICBEc0FsZ29yaXRobSxcbiAgRHNEaWdlc3RUeXBlLFxuICBnZXREc0FsZ29yaXRobVN0cmluZ0Zyb21WYWx1ZSxcbiAgZ2V0RHNEaWdlc3RUeXBlU3RyaW5nRnJvbVZhbHVlLFxufSBmcm9tIFwiLi4vcmVjb3JkL2RzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBEUyhcbiAgc2NvcGU6IENvbnN0cnVjdCxcbiAgbGFiZWw6IHN0cmluZyxcbiAga2V5dGFnOiBudW1iZXIsXG4gIGFsZ29yaXRobTogRHNBbGdvcml0aG0gfCBudW1iZXIsXG4gIGRpZ2VzdFR5cGU6IERzRGlnZXN0VHlwZSB8IG51bWJlcixcbiAgZGlnZXN0OiBzdHJpbmcsXG4gIHR0bD86IG51bWJlciB8IHN0cmluZyxcbiAgaXNFbnN1cmVkQWJzZW50PzogYm9vbGVhbixcbiAgbWV0YT86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4pOiBEbnNjb250cm9sRHNSZWNvcmQge1xuICByZXR1cm4gbmV3IERuc2NvbnRyb2xEc1JlY29yZChcbiAgICBzY29wZSxcbiAgICBgRHM6JHtsYWJlbH06JHtrZXl0YWd9OiR7YWxnb3JpdGhtfToke2RpZ2VzdFR5cGV9YCxcbiAgICB7XG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICB0dGw6IHR0bCAhPSBudWxsID8gbmV3IER1cmF0aW9uKHR0bCkgOiB1bmRlZmluZWQsXG4gICAgICBpc0Vuc3VyZWRBYnNlbnQ6IGlzRW5zdXJlZEFic2VudCxcbiAgICAgIG1ldGE6IG1ldGEsXG4gICAgICBhbGdvcml0aG06ICgoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYWxnb3JpdGhtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgcmV0dXJuIGdldERzQWxnb3JpdGhtU3RyaW5nRnJvbVZhbHVlKGFsZ29yaXRobSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFsZ29yaXRobTtcbiAgICAgIH0pKCksXG4gICAgICBkaWdlc3RUeXBlOiAoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGRpZ2VzdFR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RHNEaWdlc3RUeXBlU3RyaW5nRnJvbVZhbHVlKGRpZ2VzdFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaWdlc3RUeXBlO1xuICAgICAgfSkoKSxcbiAgICAgIGRpZ2VzdDogZGlnZXN0LFxuICAgICAga2V5dGFnOiBrZXl0YWcsXG4gICAgfSxcbiAgKTtcbn1cbiJdfQ==