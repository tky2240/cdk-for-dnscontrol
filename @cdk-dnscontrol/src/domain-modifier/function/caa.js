"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CAA = CAA;
const duration_1 = require("../../types/duration");
const caa_1 = require("../record/caa");
function CAA(scope, label, caaTag, target, isCaaCritical, ttl, isEnsuredAbsent, meta) {
    return new caa_1.DnscontrolCaaRecord(scope, `Caa:${label}:${target}`, {
        target: target,
        label: label,
        ttl: ttl != null ? new duration_1.Duration(ttl) : undefined,
        isEnsuredAbsent: isEnsuredAbsent,
        meta: meta,
        caaTag: caaTag,
        isCaaCritical: (() => {
            if (isCaaCritical == null) {
                return undefined;
            }
            if (typeof isCaaCritical === "boolean") {
                return isCaaCritical;
            }
            if (typeof isCaaCritical === "number") {
                if (isCaaCritical === 0) {
                    return false;
                }
                if (isCaaCritical === 128) {
                    return true;
                }
                throw new Error("isCaaCritical must be 0 or 128");
            }
            throw new Error("isCaaCritical must be boolean or number");
        })(),
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FhLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2FhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBSUEsa0JBb0NDO0FBdkNELG1EQUFnRDtBQUNoRCx1Q0FBNEQ7QUFFNUQsU0FBZ0IsR0FBRyxDQUNqQixLQUFnQixFQUNoQixLQUFhLEVBQ2IsTUFBYyxFQUNkLE1BQWMsRUFDZCxhQUFnQyxFQUNoQyxHQUFxQixFQUNyQixlQUF5QixFQUN6QixJQUE2QjtJQUU3QixPQUFPLElBQUkseUJBQW1CLENBQUMsS0FBSyxFQUFFLE9BQU8sS0FBSyxJQUFJLE1BQU0sRUFBRSxFQUFFO1FBQzlELE1BQU0sRUFBRSxNQUFNO1FBQ2QsS0FBSyxFQUFFLEtBQUs7UUFDWixHQUFHLEVBQUUsR0FBRyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxtQkFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO1FBQ2hELGVBQWUsRUFBRSxlQUFlO1FBQ2hDLElBQUksRUFBRSxJQUFJO1FBQ1YsTUFBTSxFQUFFLE1BQU07UUFDZCxhQUFhLEVBQUUsQ0FBQyxHQUFHLEVBQUU7WUFDbkIsSUFBSSxhQUFhLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQzFCLE9BQU8sU0FBUyxDQUFDO1lBQ25CLENBQUM7WUFDRCxJQUFJLE9BQU8sYUFBYSxLQUFLLFNBQVMsRUFBRSxDQUFDO2dCQUN2QyxPQUFPLGFBQWEsQ0FBQztZQUN2QixDQUFDO1lBQ0QsSUFBSSxPQUFPLGFBQWEsS0FBSyxRQUFRLEVBQUUsQ0FBQztnQkFDdEMsSUFBSSxhQUFhLEtBQUssQ0FBQyxFQUFFLENBQUM7b0JBQ3hCLE9BQU8sS0FBSyxDQUFDO2dCQUNmLENBQUM7Z0JBQ0QsSUFBSSxhQUFhLEtBQUssR0FBRyxFQUFFLENBQUM7b0JBQzFCLE9BQU8sSUFBSSxDQUFDO2dCQUNkLENBQUM7Z0JBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1lBQ3BELENBQUM7WUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7UUFDN0QsQ0FBQyxDQUFDLEVBQUU7S0FDTCxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSBcImNvbnN0cnVjdHNcIjtcbmltcG9ydCB7IER1cmF0aW9uIH0gZnJvbSBcIi4uLy4uL3R5cGVzL2R1cmF0aW9uXCI7XG5pbXBvcnQgeyBDYWFUYWcsIERuc2NvbnRyb2xDYWFSZWNvcmQgfSBmcm9tIFwiLi4vcmVjb3JkL2NhYVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ0FBKFxuICBzY29wZTogQ29uc3RydWN0LFxuICBsYWJlbDogc3RyaW5nLFxuICBjYWFUYWc6IENhYVRhZyxcbiAgdGFyZ2V0OiBzdHJpbmcsXG4gIGlzQ2FhQ3JpdGljYWw/OiBib29sZWFuIHwgbnVtYmVyLFxuICB0dGw/OiBudW1iZXIgfCBzdHJpbmcsXG4gIGlzRW5zdXJlZEFic2VudD86IGJvb2xlYW4sXG4gIG1ldGE/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuKTogRG5zY29udHJvbENhYVJlY29yZCB7XG4gIHJldHVybiBuZXcgRG5zY29udHJvbENhYVJlY29yZChzY29wZSwgYENhYToke2xhYmVsfToke3RhcmdldH1gLCB7XG4gICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgbGFiZWw6IGxhYmVsLFxuICAgIHR0bDogdHRsICE9IG51bGwgPyBuZXcgRHVyYXRpb24odHRsKSA6IHVuZGVmaW5lZCxcbiAgICBpc0Vuc3VyZWRBYnNlbnQ6IGlzRW5zdXJlZEFic2VudCxcbiAgICBtZXRhOiBtZXRhLFxuICAgIGNhYVRhZzogY2FhVGFnLFxuICAgIGlzQ2FhQ3JpdGljYWw6ICgoKSA9PiB7XG4gICAgICBpZiAoaXNDYWFDcml0aWNhbCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGlzQ2FhQ3JpdGljYWwgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHJldHVybiBpc0NhYUNyaXRpY2FsO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpc0NhYUNyaXRpY2FsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGlmIChpc0NhYUNyaXRpY2FsID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NhYUNyaXRpY2FsID09PSAxMjgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpc0NhYUNyaXRpY2FsIG11c3QgYmUgMCBvciAxMjhcIik7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpc0NhYUNyaXRpY2FsIG11c3QgYmUgYm9vbGVhbiBvciBudW1iZXJcIik7XG4gICAgfSkoKSxcbiAgfSk7XG59XG4iXX0=